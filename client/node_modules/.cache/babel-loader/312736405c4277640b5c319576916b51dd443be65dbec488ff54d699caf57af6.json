{"ast":null,"code":"import _objectSpread from\"/Users/lachlanfysh/Desktop/prompt_battle/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getSocketURL=()=>{const protocol=window.location.protocol;const hostname=window.location.hostname;const port=process.env.NODE_ENV==='production'?window.location.port:'3001';return\"\".concat(protocol,\"//\").concat(hostname,\":\").concat(port);};export default function CentralDisplay(){const[socket,setSocket]=useState(null);const[gameState,setGameState]=useState(null);const[prompts,setPrompts]=useState({});const[timer,setTimer]=useState(0);const[images,setImages]=useState({});const[qrCodes,setQrCodes]=useState({});const[nextPlayerNumber,setNextPlayerNumber]=useState(3);// Generate QR codes using Google Charts API (more reliable)\nuseEffect(()=>{const generateQRCodes=()=>{const baseUrl=window.location.origin;const codes={};// Generate QR codes for current players using Google Charts API\nfor(let i=1;i<=2;i++){const playerUrl=\"\".concat(baseUrl,\"/player/\").concat(i);const qrUrl=\"https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=\".concat(encodeURIComponent(playerUrl));codes[i]=qrUrl;}setQrCodes(codes);};generateQRCodes();},[]);// Generate new QR code when winner is selected - using Google Charts API\nuseEffect(()=>{if((gameState===null||gameState===void 0?void 0:gameState.phase)==='finished'&&gameState.winner){// Find the losing player number\nconst connectedPlayers=Object.keys(gameState.players||{});const losingPlayer=connectedPlayers.find(playerId=>playerId!==gameState.winner);if(losingPlayer&&!qrCodes[nextPlayerNumber]){const baseUrl=window.location.origin;const playerUrl=\"\".concat(baseUrl,\"/player/\").concat(nextPlayerNumber);const qrUrl=\"https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=\".concat(encodeURIComponent(playerUrl));setQrCodes(prev=>_objectSpread(_objectSpread({},prev),{},{[nextPlayerNumber]:qrUrl}));setNextPlayerNumber(prev=>prev+1);}}},[gameState===null||gameState===void 0?void 0:gameState.phase,gameState===null||gameState===void 0?void 0:gameState.winner,nextPlayerNumber,gameState.players,qrCodes]);useEffect(()=>{const socketURL=getSocketURL();console.log('Central Display connecting to:',socketURL);const newSocket=io(socketURL,{transports:['websocket','polling']});newSocket.on('connect',()=>{console.log('Central Display connected');newSocket.emit('join-display');});newSocket.on('game-state',state=>{console.log('Game state updated:',state);setGameState(state);if(state.generatedImages){setImages(state.generatedImages);}});newSocket.on('prompt-update',_ref=>{let{playerId,prompt}=_ref;setPrompts(prev=>_objectSpread(_objectSpread({},prev),{},{[playerId]:prompt}));});newSocket.on('battle-started',_ref2=>{let{duration}=_ref2;setTimer(duration);setPrompts({});setImages({});});newSocket.on('timer-update',timeLeft=>{setTimer(timeLeft);});newSocket.on('images-ready',generatedImages=>{setImages(generatedImages);});newSocket.on('winner-selected',winnerId=>{console.log('Winner selected:',winnerId);});setSocket(newSocket);return()=>{newSocket.close();};},[]);const selectWinner=playerId=>{if(socket&&(gameState===null||gameState===void 0?void 0:gameState.phase)==='judging'){socket.emit('select-winner',playerId);}};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,'0'));};const getPhaseTitle=()=>{switch(gameState===null||gameState===void 0?void 0:gameState.phase){case'waiting':return'Waiting for Players';case'ready':return'Get Ready!';case'battling':return'PROMPT BATTLE IN PROGRESS!';case'generating':return'Generating Images...';case'judging':return'Choose the Winner!';case'finished':return\"Player \".concat(gameState===null||gameState===void 0?void 0:gameState.winner,\" Wins!\");default:return'Prompt Battle';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-white text-black\",style:{fontFamily:'Chicago, \"SF Pro Display\", system-ui, sans-serif',fontSize:'9px',backgroundImage:\"url(\\\"data:image/svg+xml,%3Csvg width='4' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,0 L2,2 M2,0 L4,2 M0,2 L2,4 M2,2 L4,4' stroke='%23ddd' stroke-width='0.5' fill='none'/%3E%3C/svg%3E\\\")\",backgroundSize:'4px 4px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-b border-black h-5 flex items-center px-2 text-xs font-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-4\",style:{fontFamily:'Brush Script MT, cursive',fontSize:'14px',fontWeight:'bold'},children:\"Kym\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4\",children:\"File\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4\",children:\"View\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-4\",children:\"Special\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-auto flex items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 text-xs\",children:\"Central Display\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 bg-black\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-8 pt-2 pb-16\",style:{minHeight:'calc(100vh - 20px)',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border-2 border-black\",style:{boxShadow:'4px 4px 0px black',minHeight:'calc(100vh - 140px)',marginLeft:'40px',marginRight:'40px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-4 bg-white border-b border-black flex items-center justify-between px-2 relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex flex-col justify-center\",children:[...Array(6)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"h-px bg-black opacity-30\",style:{marginTop:'1px'}},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center relative z-10 bg-white px-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 border border-black bg-white mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-bold\",children:\"Prompt Battle - Central Display\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3 relative z-10 bg-white px-1\",children:(gameState===null||gameState===void 0?void 0:gameState.phase)==='battling'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-2 h-2 border border-black bg-white relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0.5 w-0.5 h-1 bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0.5 left-0 w-1 h-0.5 bg-black\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-bold font-mono \".concat(timer<=10?'animate-pulse':''),children:formatTime(timer)})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-2\",style:{fontSize:'24px'},children:getPhaseTitle()}),(gameState===null||gameState===void 0?void 0:gameState.target)&&(gameState===null||gameState===void 0?void 0:gameState.phase)!=='waiting'&&/*#__PURE__*/_jsxs(\"div\",{className:\"border border-black p-4 mb-4 bg-gray-100\",style:{boxShadow:'inset 2px 2px 0px #999'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold mb-2\",style:{fontSize:'14px'},children:\"TARGET:\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px'},children:gameState.target})]})]}),(gameState===null||gameState===void 0?void 0:gameState.phase)==='battling'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-4 mb-6\",children:['1','2'].map(playerId=>/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-black p-3 bg-white\",style:{boxShadow:'2px 2px 0px #999'},children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold mb-2 text-center\",style:{fontSize:'14px'},children:[\"Player \",playerId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-black p-2 min-h-24 bg-gray-50 break-words whitespace-pre-wrap\",style:{boxShadow:'inset 1px 1px 0px #999',fontFamily:'Chicago, monospace',fontSize:'10px',wordWrap:'break-word',overflowWrap:'break-word'},children:[prompts[playerId]||'Thinking...',prompts[playerId]&&/*#__PURE__*/_jsx(\"span\",{className:\"animate-pulse\",children:\"|\"})]})]},playerId))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border-2 border-black bg-white inline-block px-8 py-4\",style:{boxShadow:'4px 4px 0px black'},children:/*#__PURE__*/_jsx(\"div\",{className:\"font-bold font-mono \".concat(timer<=10?'animate-pulse text-red-600':'text-black'),style:{fontSize:'48px',fontFamily:'Chicago, \"SF Pro Display\", system-ui, monospace'},children:formatTime(timer)})})})]}),(gameState===null||gameState===void 0?void 0:gameState.phase)==='generating'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px'},children:\"Creating images...\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px'},className:\"mt-2\",children:\"This may take a moment\"})]}),(gameState===null||gameState===void 0?void 0:gameState.phase)==='judging'&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-6\",children:Object.entries(images).map(_ref3=>{let[playerId,imageData]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-black p-4 bg-white\",style:{boxShadow:'4px 4px 0px black'},children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold mb-4 text-center\",style:{fontSize:'16px'},children:[\"Player \",playerId]}),(imageData===null||imageData===void 0?void 0:imageData.url)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageData.url,alt:\"Player \".concat(playerId,\"'s creation\"),className:\"w-full border-2 border-black\",style:{height:'200px',objectFit:'cover',boxShadow:'2px 2px 0px #999'},onError:e=>{e.target.src=\"https://via.placeholder.com/400x200/f0f0f0/999999.png?text=Image+Error\";}}),imageData.fallback&&/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'10px'},className:\"mt-2 text-center\",children:\"\\u26A0\\uFE0F Fallback image (SD unavailable)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-black p-2 mb-4 bg-gray-100 break-words\",style:{boxShadow:'inset 1px 1px 0px #999'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold mb-1\",style:{fontSize:'10px'},children:\"Prompt:\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'9px',fontFamily:'Chicago, monospace',wordWrap:'break-word',overflowWrap:'break-word',whiteSpace:'pre-wrap'},children:imageData===null||imageData===void 0?void 0:imageData.prompt})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>selectWinner(playerId),className:\"w-full border-2 border-black py-2 px-4 font-bold hover:bg-black hover:text-white\",style:{fontFamily:'Chicago, \"SF Pro Display\", system-ui, sans-serif',fontSize:'12px',boxShadow:'2px 2px 0px #999'},children:\"Choose Winner!\"})]},playerId);})}),(gameState===null||gameState===void 0?void 0:gameState.phase)==='finished'&&gameState.winner&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-8xl mb-4\",children:\"\\uD83C\\uDFC6\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"font-bold mb-6\",style:{fontSize:'32px'},children:[\"PLAYER \",gameState.winner,\" WINS!\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-4xl mx-auto\",children:[images[gameState.winner]&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mb-4\",style:{fontSize:'18px'},children:\"Winning Creation:\"}),/*#__PURE__*/_jsx(\"img\",{src:images[gameState.winner].url,alt:\"Winning creation\",className:\"w-full border-4 border-black mb-4\",style:{height:'250px',objectFit:'cover',boxShadow:'4px 4px 0px black'}}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-black p-3 bg-gray-100 break-words\",style:{boxShadow:'inset 2px 2px 0px #999'},children:/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'11px',fontFamily:'Chicago, monospace',wordWrap:'break-word',overflowWrap:'break-word',whiteSpace:'pre-wrap'},children:images[gameState.winner].prompt})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-black p-6 bg-white\",style:{boxShadow:'4px 4px 0px #999'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold mb-4\",style:{fontSize:'18px'},children:\"Next Challenger\"}),/*#__PURE__*/_jsxs(\"h4\",{className:\"font-bold mb-4\",style:{fontSize:'24px'},children:[\"Player \",nextPlayerNumber-1]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:qrCodes[nextPlayerNumber-1]?/*#__PURE__*/_jsx(\"img\",{src:qrCodes[nextPlayerNumber-1],alt:\"QR Code for Player \".concat(nextPlayerNumber-1),className:\"mx-auto border-2 border-black bg-white\",style:{width:'180px',height:'180px',boxShadow:'2px 2px 0px #999'}}):/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto border-2 border-black bg-gray-100 flex items-center justify-center\",style:{width:'180px',height:'180px',boxShadow:'2px 2px 0px #999'},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px'},children:\"Loading QR...\"})})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},className:\"mb-3\",children:\"Scan to challenge the winner!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-black p-2 bg-gray-100\",style:{boxShadow:'inset 1px 1px 0px #999'},children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'10px',fontFamily:'Chicago, monospace'},children:[window.location.origin,\"/player/\",nextPlayerNumber-1]})})]})]})]}),(gameState===null||gameState===void 0?void 0:gameState.phase)==='waiting'&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-8\",children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'18px'},className:\"mb-8\",children:\"Scan QR codes to join the battle!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-8 max-w-2xl mx-auto\",children:[1,2].map(playerId=>{var _gameState$players,_gameState$players$pl;return/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-black p-6 bg-white\",style:{boxShadow:'4px 4px 0px #999'},children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold mb-4\",style:{fontSize:'18px'},children:[\"Player \",playerId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[qrCodes[playerId]?/*#__PURE__*/_jsx(\"img\",{src:qrCodes[playerId],alt:\"QR Code for Player \".concat(playerId),className:\"mx-auto border-2 border-black bg-white\",style:{width:'150px',height:'150px',boxShadow:'2px 2px 0px #999'},onError:e=>{e.target.style.display='none';e.target.nextSibling.style.display='flex';}}):null,/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto border-2 border-black bg-gray-100 items-center justify-center\",style:{width:'150px',height:'150px',boxShadow:'2px 2px 0px #999',display:qrCodes[playerId]?'none':'flex'},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px'},children:qrCodes[playerId]?'QR Error':'Loading QR...'})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'14px'},className:\"font-bold\",children:[\"Status: \",gameState!==null&&gameState!==void 0&&(_gameState$players=gameState.players)!==null&&_gameState$players!==void 0&&(_gameState$players$pl=_gameState$players[playerId])!==null&&_gameState$players$pl!==void 0&&_gameState$players$pl.connected?'‚úì Connected':'‚óã Waiting...']})}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-black p-2 bg-gray-100\",style:{boxShadow:'inset 1px 1px 0px #999'},children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'10px',fontFamily:'Chicago, monospace'},children:[window.location.origin,\"/player/\",playerId]})})]},playerId);})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-4 right-8 flex gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center cursor-pointer group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 flex items-center justify-center relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-10 h-6 bg-white border-2 border-black rounded-lg relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-1 w-1 h-1 bg-black rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-3 w-1 h-1 bg-black rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-5 w-1 h-1 bg-black rounded-full\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-3 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3 left-3 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-2 py-0.5 mt-1 text-black font-bold\",style:{fontFamily:'Chicago, \"SF Pro Display\", system-ui, sans-serif',fontSize:'12px'},children:\"KymChat\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center cursor-pointer group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 flex items-center justify-center relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-8 h-9 bg-white border-2 border-black relative\",style:{borderRadius:'0 0 50% 50%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 left-1.5 w-5 h-2 bg-black rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2.5 left-2.5 w-3 h-1 bg-white rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2.5 left-3.5 w-1 h-1 bg-black rounded-full\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-2 py-0.5 mt-1 text-black font-bold\",style:{fontFamily:'Chicago, \"SF Pro Display\", system-ui, sans-serif',fontSize:'12px'},children:\"Sentinel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center cursor-pointer group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 flex items-center justify-center relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-9 h-7 bg-white border-2 border-black relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-1 right-2 h-px bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2.5 left-1 right-2 h-px bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-4 left-1 right-2 h-px bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-2 w-px bottom-1 bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-4 w-px bottom-1 bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0.5 right-2.5 w-1 h-1 bg-black rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1.5 right-2 w-2 h-1.5 bg-black\",style:{borderRadius:'50% 50% 0 0'}})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-2 py-0.5 mt-1 text-black font-bold\",style:{fontFamily:'Chicago, \"SF Pro Display\", system-ui, sans-serif',fontSize:'12px'},children:\"CRM\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center cursor-pointer group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 flex items-center justify-center relative\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-8 h-8 border-2 border-black rounded-full bg-white relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1.5 left-2 w-2 h-px bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2.5 left-1.5 w-px h-2 bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-2.5 right-1.5 w-px h-2 bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-1.5 left-2 w-2 h-px bg-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1 left-1.5 w-1 h-1 bg-black transform rotate-45\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-1 right-1.5 w-1 h-1 bg-black transform rotate-45\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-2 py-0.5 mt-1 text-black font-bold\",style:{fontFamily:'Chicago, \"SF Pro Display\", system-ui, sans-serif',fontSize:'12px'},children:\"Retain\"})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","io","jsx","_jsx","jsxs","_jsxs","getSocketURL","protocol","window","location","hostname","port","process","env","NODE_ENV","concat","CentralDisplay","socket","setSocket","gameState","setGameState","prompts","setPrompts","timer","setTimer","images","setImages","qrCodes","setQrCodes","nextPlayerNumber","setNextPlayerNumber","generateQRCodes","baseUrl","origin","codes","i","playerUrl","qrUrl","encodeURIComponent","phase","winner","connectedPlayers","Object","keys","players","losingPlayer","find","playerId","prev","_objectSpread","socketURL","console","log","newSocket","transports","on","emit","state","generatedImages","_ref","prompt","_ref2","duration","timeLeft","winnerId","close","selectWinner","formatTime","seconds","mins","Math","floor","secs","toString","padStart","getPhaseTitle","className","style","fontFamily","fontSize","backgroundImage","backgroundSize","children","fontWeight","minHeight","position","boxShadow","marginLeft","marginRight","Array","map","_","marginTop","target","wordWrap","overflowWrap","entries","_ref3","imageData","url","src","alt","height","objectFit","onError","e","fallback","whiteSpace","onClick","width","_gameState$players","_gameState$players$pl","display","nextSibling","connected","borderRadius"],"sources":["/Users/lachlanfysh/Desktop/prompt_battle/client/src/components/CentralDisplay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nconst getSocketURL = () => {\n  const protocol = window.location.protocol;\n  const hostname = window.location.hostname;\n  const port = process.env.NODE_ENV === 'production' ? window.location.port : '3001';\n  return `${protocol}//${hostname}:${port}`;\n};\n\nexport default function CentralDisplay() {\n  const [socket, setSocket] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [prompts, setPrompts] = useState({});\n  const [timer, setTimer] = useState(0);\n  const [images, setImages] = useState({});\n  const [qrCodes, setQrCodes] = useState({});\n  const [nextPlayerNumber, setNextPlayerNumber] = useState(3);\n\n  // Generate QR codes using Google Charts API (more reliable)\n  useEffect(() => {\n    const generateQRCodes = () => {\n      const baseUrl = window.location.origin;\n      const codes = {};\n      \n      // Generate QR codes for current players using Google Charts API\n      for (let i = 1; i <= 2; i++) {\n        const playerUrl = `${baseUrl}/player/${i}`;\n        const qrUrl = `https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(playerUrl)}`;\n        codes[i] = qrUrl;\n      }\n      setQrCodes(codes);\n    };\n    \n    generateQRCodes();\n  }, []);\n\n  // Generate new QR code when winner is selected - using Google Charts API\n  useEffect(() => {\n    if (gameState?.phase === 'finished' && gameState.winner) {\n      // Find the losing player number\n      const connectedPlayers = Object.keys(gameState.players || {});\n      const losingPlayer = connectedPlayers.find(playerId => playerId !== gameState.winner);\n      \n      if (losingPlayer && !qrCodes[nextPlayerNumber]) {\n        const baseUrl = window.location.origin;\n        const playerUrl = `${baseUrl}/player/${nextPlayerNumber}`;\n        const qrUrl = `https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(playerUrl)}`;\n        \n        setQrCodes(prev => ({ ...prev, [nextPlayerNumber]: qrUrl }));\n        setNextPlayerNumber(prev => prev + 1);\n      }\n    }\n  }, [gameState?.phase, gameState?.winner, nextPlayerNumber, gameState.players, qrCodes]);\n\n  useEffect(() => {\n    const socketURL = getSocketURL();\n    console.log('Central Display connecting to:', socketURL);\n    \n    const newSocket = io(socketURL, {\n      transports: ['websocket', 'polling']\n    });\n    \n    newSocket.on('connect', () => {\n      console.log('Central Display connected');\n      newSocket.emit('join-display');\n    });\n\n    newSocket.on('game-state', (state) => {\n      console.log('Game state updated:', state);\n      setGameState(state);\n      if (state.generatedImages) {\n        setImages(state.generatedImages);\n      }\n    });\n\n    newSocket.on('prompt-update', ({ playerId, prompt }) => {\n      setPrompts(prev => ({ ...prev, [playerId]: prompt }));\n    });\n\n    newSocket.on('battle-started', ({ duration }) => {\n      setTimer(duration);\n      setPrompts({});\n      setImages({});\n    });\n\n    newSocket.on('timer-update', (timeLeft) => {\n      setTimer(timeLeft);\n    });\n\n    newSocket.on('images-ready', (generatedImages) => {\n      setImages(generatedImages);\n    });\n\n    newSocket.on('winner-selected', (winnerId) => {\n      console.log('Winner selected:', winnerId);\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  const selectWinner = (playerId) => {\n    if (socket && gameState?.phase === 'judging') {\n      socket.emit('select-winner', playerId);\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const getPhaseTitle = () => {\n    switch (gameState?.phase) {\n      case 'waiting':\n        return 'Waiting for Players';\n      case 'ready':\n        return 'Get Ready!';\n      case 'battling':\n        return 'PROMPT BATTLE IN PROGRESS!';\n      case 'generating':\n        return 'Generating Images...';\n      case 'judging':\n        return 'Choose the Winner!';\n      case 'finished':\n        return `Player ${gameState?.winner} Wins!`;\n      default:\n        return 'Prompt Battle';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white text-black\" style={{\n      fontFamily: 'Chicago, \"SF Pro Display\", system-ui, sans-serif',\n      fontSize: '9px',\n      backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='4' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,0 L2,2 M2,0 L4,2 M0,2 L2,4 M2,2 L4,4' stroke='%23ddd' stroke-width='0.5' fill='none'/%3E%3C/svg%3E\")`,\n      backgroundSize: '4px 4px'\n    }}>\n      {/* Menu Bar */}\n      <div className=\"bg-white border-b border-black h-5 flex items-center px-2 text-xs font-bold\">\n        <span className=\"mr-4\" style={{\n          fontFamily: 'Brush Script MT, cursive',\n          fontSize: '14px',\n          fontWeight: 'bold'\n        }}>Kym</span>\n        <span className=\"mr-4\">File</span>\n        <span className=\"mr-4\">Edit</span>\n        <span className=\"mr-4\">View</span>\n        <span className=\"mr-4\">Special</span>\n        <div className=\"ml-auto flex items-center\">\n          <span className=\"mr-2 text-xs\">Central Display</span>\n          <div className=\"w-1.5 h-1.5 bg-black\"></div>\n        </div>\n      </div>\n\n      {/* Desktop */}\n      <div className=\"px-8 pt-2 pb-16\" style={{ minHeight: 'calc(100vh - 20px)', position: 'relative' }}>\n        {/* Main Window - with side margins and reduced height to make room for icons */}\n        <div className=\"bg-white border-2 border-black\" style={{\n          boxShadow: '4px 4px 0px black',\n          minHeight: 'calc(100vh - 140px)',\n          marginLeft: '40px',\n          marginRight: '40px'\n        }}>\n          {/* Window Title Bar */}\n          <div className=\"h-4 bg-white border-b border-black flex items-center justify-between px-2 relative\">\n            {/* Horizontal lines pattern */}\n            <div className=\"absolute inset-0 flex flex-col justify-center\">\n              {[...Array(6)].map((_, i) => (\n                <div key={i} className=\"h-px bg-black opacity-30\" style={{marginTop: '1px'}}></div>\n              ))}\n            </div>\n            <div className=\"flex items-center relative z-10 bg-white px-1\">\n              <div className=\"w-2 h-2 border border-black bg-white mr-1\"></div>\n              <span className=\"text-xs font-bold\">Prompt Battle - Central Display</span>\n            </div>\n            <div className=\"flex items-center gap-3 relative z-10 bg-white px-1\">\n              {gameState?.phase === 'battling' && (\n                <div className=\"flex items-center gap-1\">\n                  <div className=\"w-2 h-2 border border-black bg-white relative\">\n                    <div className=\"absolute top-0 left-0.5 w-0.5 h-1 bg-black\"></div>\n                    <div className=\"absolute top-0.5 left-0 w-1 h-0.5 bg-black\"></div>\n                  </div>\n                  <span className={`text-xs font-bold font-mono ${timer <= 10 ? 'animate-pulse' : ''}`}>\n                    {formatTime(timer)}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Main Content */}\n          <div className=\"p-4\">\n            {/* Game Status Header */}\n            <div className=\"text-center mb-6\">\n              <h1 className=\"text-2xl font-bold mb-2\" style={{ fontSize: '24px' }}>\n                {getPhaseTitle()}\n              </h1>\n              \n              {gameState?.target && gameState?.phase !== 'waiting' && (\n                <div className=\"border border-black p-4 mb-4 bg-gray-100\" style={{\n                  boxShadow: 'inset 2px 2px 0px #999'\n                }}>\n                  <h2 className=\"font-bold mb-2\" style={{ fontSize: '14px' }}>TARGET:</h2>\n                  <p style={{ fontSize: '12px' }}>{gameState.target}</p>\n                </div>\n              )}\n            </div>\n\n            {/* Live Prompts Display */}\n            {gameState?.phase === 'battling' && (\n              <div className=\"mb-6\">\n                <div className=\"grid grid-cols-2 gap-4 mb-6\">\n                  {['1', '2'].map(playerId => (\n                    <div key={playerId} className=\"border-2 border-black p-3 bg-white\" style={{\n                      boxShadow: '2px 2px 0px #999'\n                    }}>\n                      <h3 className=\"font-bold mb-2 text-center\" style={{ fontSize: '14px' }}>\n                        Player {playerId}\n                      </h3>\n                      <div className=\"border border-black p-2 min-h-24 bg-gray-50 break-words whitespace-pre-wrap\" style={{\n                        boxShadow: 'inset 1px 1px 0px #999',\n                        fontFamily: 'Chicago, monospace',\n                        fontSize: '10px',\n                        wordWrap: 'break-word',\n                        overflowWrap: 'break-word'\n                      }}>\n                        {prompts[playerId] || 'Thinking...'}\n                        {prompts[playerId] && <span className=\"animate-pulse\">|</span>}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                \n                {/* Big Countdown Timer */}\n                <div className=\"text-center mb-4\">\n                  <div className=\"border-2 border-black bg-white inline-block px-8 py-4\" style={{\n                    boxShadow: '4px 4px 0px black'\n                  }}>\n                    <div className={`font-bold font-mono ${timer <= 10 ? 'animate-pulse text-red-600' : 'text-black'}`} style={{\n                      fontSize: '48px',\n                      fontFamily: 'Chicago, \"SF Pro Display\", system-ui, monospace'\n                    }}>\n                      {formatTime(timer)}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Image Generation Loading */}\n            {gameState?.phase === 'generating' && (\n              <div className=\"text-center\">\n                <div className=\"text-6xl mb-4\">‚è≥</div>\n                <p style={{ fontSize: '16px' }}>Creating images...</p>\n                <p style={{ fontSize: '12px' }} className=\"mt-2\">This may take a moment</p>\n              </div>\n            )}\n\n            {/* Image Display and Judging */}\n            {gameState?.phase === 'judging' && (\n              <div className=\"grid grid-cols-2 gap-6\">\n                {Object.entries(images).map(([playerId, imageData]) => (\n                  <div key={playerId} className=\"border-2 border-black p-4 bg-white\" style={{\n                    boxShadow: '4px 4px 0px black'\n                  }}>\n                    <h3 className=\"font-bold mb-4 text-center\" style={{ fontSize: '16px' }}>\n                      Player {playerId}\n                    </h3>\n                    \n                    {imageData?.url && (\n                      <div className=\"mb-4\">\n                        <img \n                          src={imageData.url} \n                          alt={`Player ${playerId}'s creation`}\n                          className=\"w-full border-2 border-black\"\n                          style={{\n                            height: '200px',\n                            objectFit: 'cover',\n                            boxShadow: '2px 2px 0px #999'\n                          }}\n                          onError={(e) => {\n                            e.target.src = `https://via.placeholder.com/400x200/f0f0f0/999999.png?text=Image+Error`;\n                          }}\n                        />\n                        {imageData.fallback && (\n                          <p style={{ fontSize: '10px' }} className=\"mt-2 text-center\">\n                            ‚ö†Ô∏è Fallback image (SD unavailable)\n                          </p>\n                        )}\n                      </div>\n                    )}\n\n                    <div className=\"border border-black p-2 mb-4 bg-gray-100 break-words\" style={{\n                      boxShadow: 'inset 1px 1px 0px #999'\n                    }}>\n                      <h4 className=\"font-bold mb-1\" style={{ fontSize: '10px' }}>Prompt:</h4>\n                      <p style={{ \n                        fontSize: '9px', \n                        fontFamily: 'Chicago, monospace',\n                        wordWrap: 'break-word',\n                        overflowWrap: 'break-word',\n                        whiteSpace: 'pre-wrap'\n                      }}>\n                        {imageData?.prompt}\n                      </p>\n                    </div>\n\n                    <button\n                      onClick={() => selectWinner(playerId)}\n                      className=\"w-full border-2 border-black py-2 px-4 font-bold hover:bg-black hover:text-white\"\n                      style={{\n                        fontFamily: 'Chicago, \"SF Pro Display\", system-ui, sans-serif',\n                        fontSize: '12px',\n                        boxShadow: '2px 2px 0px #999'\n                      }}\n                    >\n                      Choose Winner!\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n\n            {/* Winner Celebration */}\n            {gameState?.phase === 'finished' && gameState.winner && (\n              <div className=\"text-center\">\n                <div className=\"text-8xl mb-4\">üèÜ</div>\n                <h2 className=\"font-bold mb-6\" style={{ fontSize: '32px' }}>\n                  PLAYER {gameState.winner} WINS!\n                </h2>\n                \n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-4xl mx-auto\">\n                  {/* Winning Creation */}\n                  {images[gameState.winner] && (\n                    <div>\n                      <h3 className=\"font-bold mb-4\" style={{ fontSize: '18px' }}>Winning Creation:</h3>\n                      <img \n                        src={images[gameState.winner].url}\n                        alt=\"Winning creation\"\n                        className=\"w-full border-4 border-black mb-4\"\n                        style={{\n                          height: '250px',\n                          objectFit: 'cover',\n                          boxShadow: '4px 4px 0px black'\n                        }}\n                      />\n                      <div className=\"border border-black p-3 bg-gray-100 break-words\" style={{\n                        boxShadow: 'inset 2px 2px 0px #999'\n                      }}>\n                        <p style={{ \n                          fontSize: '11px', \n                          fontFamily: 'Chicago, monospace',\n                          wordWrap: 'break-word',\n                          overflowWrap: 'break-word',\n                          whiteSpace: 'pre-wrap'\n                        }}>\n                          {images[gameState.winner].prompt}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                  \n                  {/* Next Player QR Code */}\n                  <div className=\"border-2 border-black p-6 bg-white\" style={{\n                    boxShadow: '4px 4px 0px #999'\n                  }}>\n                    <h3 className=\"font-bold mb-4\" style={{ fontSize: '18px' }}>\n                      Next Challenger\n                    </h3>\n                    <h4 className=\"font-bold mb-4\" style={{ fontSize: '24px' }}>\n                      Player {nextPlayerNumber - 1}\n                    </h4>\n                    \n                    <div className=\"mb-4\">\n                      {qrCodes[nextPlayerNumber - 1] ? (\n                        <img \n                          src={qrCodes[nextPlayerNumber - 1]} \n                          alt={`QR Code for Player ${nextPlayerNumber - 1}`}\n                          className=\"mx-auto border-2 border-black bg-white\"\n                          style={{\n                            width: '180px',\n                            height: '180px',\n                            boxShadow: '2px 2px 0px #999'\n                          }}\n                        />\n                      ) : (\n                        <div \n                          className=\"mx-auto border-2 border-black bg-gray-100 flex items-center justify-center\"\n                          style={{\n                            width: '180px',\n                            height: '180px',\n                            boxShadow: '2px 2px 0px #999'\n                          }}\n                        >\n                          <span style={{ fontSize: '14px' }}>Loading QR...</span>\n                        </div>\n                      )}\n                    </div>\n                    \n                    <p style={{ fontSize: '14px' }} className=\"mb-3\">\n                      Scan to challenge the winner!\n                    </p>\n                    \n                    <div className=\"border border-black p-2 bg-gray-100\" style={{\n                      boxShadow: 'inset 1px 1px 0px #999'\n                    }}>\n                      <p style={{ fontSize: '10px', fontFamily: 'Chicago, monospace' }}>\n                        {window.location.origin}/player/{nextPlayerNumber - 1}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Waiting for Players */}\n            {gameState?.phase === 'waiting' && (\n              <div className=\"text-center\">\n                <div className=\"text-6xl mb-8\">‚è≥</div>\n                <p style={{ fontSize: '18px' }} className=\"mb-8\">Scan QR codes to join the battle!</p>\n                \n                <div className=\"grid grid-cols-2 gap-8 max-w-2xl mx-auto\">\n                  {[1, 2].map(playerId => (\n                    <div key={playerId} className=\"border-2 border-black p-6 bg-white\" style={{\n                      boxShadow: '4px 4px 0px #999'\n                    }}>\n                      <h3 className=\"font-bold mb-4\" style={{ fontSize: '18px' }}>\n                        Player {playerId}\n                      </h3>\n                      \n                      <div className=\"mb-4\">\n                        {qrCodes[playerId] ? (\n                          <img \n                            src={qrCodes[playerId]} \n                            alt={`QR Code for Player ${playerId}`}\n                            className=\"mx-auto border-2 border-black bg-white\"\n                            style={{\n                              width: '150px',\n                              height: '150px',\n                              boxShadow: '2px 2px 0px #999'\n                            }}\n                            onError={(e) => {\n                              e.target.style.display = 'none';\n                              e.target.nextSibling.style.display = 'flex';\n                            }}\n                          />\n                        ) : null}\n                        <div \n                          className=\"mx-auto border-2 border-black bg-gray-100 items-center justify-center\"\n                          style={{\n                            width: '150px',\n                            height: '150px',\n                            boxShadow: '2px 2px 0px #999',\n                            display: qrCodes[playerId] ? 'none' : 'flex'\n                          }}\n                        >\n                          <span style={{ fontSize: '12px' }}>\n                            {qrCodes[playerId] ? 'QR Error' : 'Loading QR...'}\n                          </span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"mb-3\">\n                        <p style={{ fontSize: '14px' }} className=\"font-bold\">\n                          Status: {gameState?.players?.[playerId]?.connected ? '‚úì Connected' : '‚óã Waiting...'}\n                        </p>\n                      </div>\n                      \n                      <div className=\"border border-black p-2 bg-gray-100\" style={{\n                        boxShadow: 'inset 1px 1px 0px #999'\n                      }}>\n                        <p style={{ fontSize: '10px', fontFamily: 'Chicago, monospace' }}>\n                          {window.location.origin}/player/{playerId}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* System 6 Style Desktop Icons - Bottom Right */}\n        <div className=\"absolute bottom-4 right-8 flex gap-8\">\n          {/* KymChat Icon */}\n          <div className=\"flex flex-col items-center cursor-pointer group\">\n            <div className=\"w-12 h-12 flex items-center justify-center relative\">\n              {/* Chat bubble icon - simplified to avoid clipping */}\n              <div className=\"relative\">\n                <div className=\"w-10 h-6 bg-white border-2 border-black rounded-lg relative\">\n                  <div className=\"absolute top-1 left-1 w-1 h-1 bg-black rounded-full\"></div>\n                  <div className=\"absolute top-1 left-3 w-1 h-1 bg-black rounded-full\"></div>\n                  <div className=\"absolute top-1 left-5 w-1 h-1 bg-black rounded-full\"></div>\n                </div>\n                <div className=\"absolute top-4 left-3 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-black\"></div>\n                <div className=\"absolute top-3 left-3 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white\"></div>\n              </div>\n            </div>\n            <div className=\"bg-white px-2 py-0.5 mt-1 text-black font-bold\" style={{\n              fontFamily: 'Chicago, \"SF Pro Display\", system-ui, sans-serif',\n              fontSize: '12px'\n            }}>\n              KymChat\n            </div>\n          </div>\n\n          {/* Sentinel Icon */}\n          <div className=\"flex flex-col items-center cursor-pointer group\">\n            <div className=\"w-12 h-12 flex items-center justify-center relative\">\n              {/* Shield with eye - simplified */}\n              <div className=\"relative\">\n                <div className=\"w-8 h-9 bg-white border-2 border-black relative\" style={{\n                  borderRadius: '0 0 50% 50%'\n                }}>\n                  {/* Eye in center */}\n                  <div className=\"absolute top-2 left-1.5 w-5 h-2 bg-black rounded-full\"></div>\n                  <div className=\"absolute top-2.5 left-2.5 w-3 h-1 bg-white rounded-full\"></div>\n                  <div className=\"absolute top-2.5 left-3.5 w-1 h-1 bg-black rounded-full\"></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white px-2 py-0.5 mt-1 text-black font-bold\" style={{\n              fontFamily: 'Chicago, \"SF Pro Display\", system-ui, sans-serif',\n              fontSize: '12px'\n            }}>\n              Sentinel\n            </div>\n          </div>\n\n          {/* CRM Icon */}\n          <div className=\"flex flex-col items-center cursor-pointer group\">\n            <div className=\"w-12 h-12 flex items-center justify-center relative\">\n              {/* Rolodex/contacts icon - simplified */}\n              <div className=\"relative\">\n                <div className=\"w-9 h-7 bg-white border-2 border-black relative\">\n                  <div className=\"absolute top-1 left-1 right-2 h-px bg-black\"></div>\n                  <div className=\"absolute top-2.5 left-1 right-2 h-px bg-black\"></div>\n                  <div className=\"absolute top-4 left-1 right-2 h-px bg-black\"></div>\n                  <div className=\"absolute top-1 left-2 w-px bottom-1 bg-black\"></div>\n                  <div className=\"absolute top-1 left-4 w-px bottom-1 bg-black\"></div>\n                  {/* Person silhouette - moved inside bounds */}\n                  <div className=\"absolute top-0.5 right-2.5 w-1 h-1 bg-black rounded-full\"></div>\n                  <div className=\"absolute top-1.5 right-2 w-2 h-1.5 bg-black\" style={{\n                    borderRadius: '50% 50% 0 0'\n                  }}></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white px-2 py-0.5 mt-1 text-black font-bold\" style={{\n              fontFamily: 'Chicago, \"SF Pro Display\", system-ui, sans-serif',\n              fontSize: '12px'\n            }}>\n              CRM\n            </div>\n          </div>\n\n          {/* Retain Icon */}\n          <div className=\"flex flex-col items-center cursor-pointer group\">\n            <div className=\"w-12 h-12 flex items-center justify-center relative\">\n              {/* Circular arrow/retention icon - simplified */}\n              <div className=\"relative\">\n                <div className=\"w-8 h-8 border-2 border-black rounded-full bg-white relative\">\n                  {/* Circular arrow parts inside the circle */}\n                  <div className=\"absolute top-1.5 left-2 w-2 h-px bg-black\"></div>\n                  <div className=\"absolute top-2.5 left-1.5 w-px h-2 bg-black\"></div>\n                  <div className=\"absolute bottom-2.5 right-1.5 w-px h-2 bg-black\"></div>\n                  <div className=\"absolute bottom-1.5 left-2 w-2 h-px bg-black\"></div>\n                  {/* Arrow heads inside bounds */}\n                  <div className=\"absolute top-1 left-1.5 w-1 h-1 bg-black transform rotate-45\"></div>\n                  <div className=\"absolute bottom-1 right-1.5 w-1 h-1 bg-black transform rotate-45\"></div>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white px-2 py-0.5 mt-1 text-black font-bold\" style={{\n              fontFamily: 'Chicago, \"SF Pro Display\", system-ui, sans-serif',\n              fontSize: '12px'\n            }}>\n              Retain\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}