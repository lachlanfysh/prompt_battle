{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Settings,Play,RotateCcw,Timer,Users,Monitor}from'lucide-react';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getSocketURL=()=>{const protocol=window.location.protocol;const hostname=window.location.hostname;const port=process.env.NODE_ENV==='production'?window.location.port:'3001';return\"\".concat(protocol,\"//\").concat(hostname,\":\").concat(port);};export default function AdminPanel(){const[socket,setSocket]=useState(null);const[gameState,setGameState]=useState(null);const[target,setTarget]=useState('');const[duration,setDuration]=useState(60);const[connected,setConnected]=useState(false);const presetTargets=['A majestic dragon flying over a medieval castle','A cozy coffee shop in a cyberpunk city','A peaceful forest scene with magical creatures','An astronaut exploring an alien planet','A steampunk airship floating through clouds','A sunset over a mountain lake','A bustling medieval marketplace','A futuristic city with flying cars'];useEffect(()=>{const socketURL=getSocketURL();console.log('Admin Panel connecting to:',socketURL);const newSocket=io(socketURL,{transports:['websocket','polling']});newSocket.on('connect',()=>{console.log('Admin Panel connected');setConnected(true);newSocket.emit('join-admin');});newSocket.on('disconnect',()=>{setConnected(false);});newSocket.on('game-state',state=>{console.log('Game state updated:',state);setGameState(state);});setSocket(newSocket);return()=>{newSocket.close();};},[]);const setTargetPrompt=()=>{if(socket&&target.trim()){socket.emit('set-target',target.trim());}};const startBattle=()=>{if(socket){socket.emit('start-battle',duration);}};const resetGame=()=>{if(socket){socket.emit('reset-game');setTarget('');}};const getConnectionStatus=()=>{if(!connected)return{color:'text-red-500',text:'Disconnected'};return{color:'text-green-500',text:'Connected'};};const getPlayerCount=()=>{if(!(gameState!==null&&gameState!==void 0&&gameState.players))return 0;return Object.keys(gameState.players).filter(id=>gameState.players[id].connected).length;};const canStartBattle=()=>{return connected&&(gameState===null||gameState===void 0?void 0:gameState.phase)==='ready'&&(gameState===null||gameState===void 0?void 0:gameState.target)&&getPlayerCount()>=2;};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-8 w-8\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Prompt Battle Admin\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 \".concat(getConnectionStatus().color),children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-current animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:getConnectionStatus().text})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-300\",children:[/*#__PURE__*/_jsx(Users,{className:\"inline h-5 w-5 mr-2\"}),getPlayerCount(),\"/2 Players\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Monitor,{className:\"h-6 w-6 mr-2\"}),\"Quick Access URLs\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-blue-400 mb-2\",children:\"Central Display\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"/display\",target:\"_blank\",className:\"text-sm text-blue-300 hover:underline font-mono break-all\",children:[window.location.origin,\"/display\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-green-400 mb-2\",children:\"Player 1\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"/player/1\",target:\"_blank\",className:\"text-sm text-green-300 hover:underline font-mono break-all\",children:[window.location.origin,\"/player/1\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-700 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-purple-400 mb-2\",children:\"Player 2\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"/player/2\",target:\"_blank\",className:\"text-sm text-purple-300 hover:underline font-mono break-all\",children:[window.location.origin,\"/player/2\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Game Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Current Phase:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-400 capitalize\",children:(gameState===null||gameState===void 0?void 0:gameState.phase)||'Disconnected'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Connected Players:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:['1','2'].map(playerId=>{var _gameState$players,_gameState$players$pl,_gameState$players2,_gameState$players2$p;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(gameState!==null&&gameState!==void 0&&(_gameState$players=gameState.players)!==null&&_gameState$players!==void 0&&(_gameState$players$pl=_gameState$players[playerId])!==null&&_gameState$players$pl!==void 0&&_gameState$players$pl.connected?'bg-green-500':'bg-gray-500')}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Player \",playerId]}),(gameState===null||gameState===void 0?void 0:(_gameState$players2=gameState.players)===null||_gameState$players2===void 0?void 0:(_gameState$players2$p=_gameState$players2[playerId])===null||_gameState$players2$p===void 0?void 0:_gameState$players2$p.ready)&&/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 text-sm\",children:\"\\u2713 Ready\"})]},playerId);})})]})]}),(gameState===null||gameState===void 0?void 0:gameState.target)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-gray-700 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Current Target:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:gameState.target})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6 mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Set Battle Target\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-semibold mb-2\",children:\"Target Prompt:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:target,onChange:e=>setTarget(e.target.value),placeholder:\"Enter the target for players to create images of...\",className:\"w-full h-24 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none\",maxLength:200}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right text-sm text-gray-400 mt-1\",children:[target.length,\"/200 characters\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-3\",children:\"Quick Presets:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-2\",children:presetTargets.map((preset,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTarget(preset),className:\"text-left p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition-colors\",children:preset},index))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:setTargetPrompt,disabled:!target.trim()||!connected,className:\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition-colors\",children:\"Set Target\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Battle Controls\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block font-semibold mb-2 flex items-center\",children:[/*#__PURE__*/_jsx(Timer,{className:\"h-5 w-5 mr-2\"}),\"Battle Duration (seconds):\"]}),/*#__PURE__*/_jsxs(\"select\",{value:duration,onChange:e=>setDuration(parseInt(e.target.value)),className:\"p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:30,children:\"30 seconds\"}),/*#__PURE__*/_jsx(\"option\",{value:60,children:\"1 minute\"}),/*#__PURE__*/_jsx(\"option\",{value:90,children:\"1.5 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:120,children:\"2 minutes\"}),/*#__PURE__*/_jsx(\"option\",{value:180,children:\"3 minutes\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:startBattle,disabled:!canStartBattle(),className:\"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Play,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Start Battle\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:resetGame,disabled:!connected,className:\"bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(RotateCcw,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Reset Game\"})]})]}),!canStartBattle()&&connected&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-yellow-400\",children:[\"\\u26A0\\uFE0F \",!(gameState!==null&&gameState!==void 0&&gameState.target)?'Set a target first':getPlayerCount()<2?'Need 2 players connected':'Game not ready']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 rounded-lg p-6 mt-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Stable Diffusion Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-300\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:\"\\uD83D\\uDD17 Expected endpoint: http://localhost:7860\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Make sure Automatic1111 WebUI is running with \",/*#__PURE__*/_jsx(\"code\",{className:\"bg-gray-700 px-2 py-1 rounded\",children:\"--api --listen\"}),\" flags\"]})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Settings","Play","RotateCcw","Timer","Users","Monitor","io","jsx","_jsx","jsxs","_jsxs","getSocketURL","protocol","window","location","hostname","port","process","env","NODE_ENV","concat","AdminPanel","socket","setSocket","gameState","setGameState","target","setTarget","duration","setDuration","connected","setConnected","presetTargets","socketURL","console","log","newSocket","transports","on","emit","state","close","setTargetPrompt","trim","startBattle","resetGame","getConnectionStatus","color","text","getPlayerCount","players","Object","keys","filter","id","length","canStartBattle","phase","className","children","href","origin","map","playerId","_gameState$players","_gameState$players$pl","_gameState$players2","_gameState$players2$p","ready","value","onChange","e","placeholder","maxLength","preset","index","onClick","disabled","parseInt"],"sources":["/Users/lachlanfysh/Desktop/prompt_battle/client/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Settings, Play, RotateCcw, Timer, Users, Monitor } from 'lucide-react';\nimport io from 'socket.io-client';\n\nconst getSocketURL = () => {\n  const protocol = window.location.protocol;\n  const hostname = window.location.hostname;\n  const port = process.env.NODE_ENV === 'production' ? window.location.port : '3001';\n  return `${protocol}//${hostname}:${port}`;\n};\n\nexport default function AdminPanel() {\n  const [socket, setSocket] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [target, setTarget] = useState('');\n  const [duration, setDuration] = useState(60);\n  const [connected, setConnected] = useState(false);\n\n  const presetTargets = [\n    'A majestic dragon flying over a medieval castle',\n    'A cozy coffee shop in a cyberpunk city',\n    'A peaceful forest scene with magical creatures',\n    'An astronaut exploring an alien planet',\n    'A steampunk airship floating through clouds',\n    'A sunset over a mountain lake',\n    'A bustling medieval marketplace',\n    'A futuristic city with flying cars'\n  ];\n\n  useEffect(() => {\n    const socketURL = getSocketURL();\n    console.log('Admin Panel connecting to:', socketURL);\n    \n    const newSocket = io(socketURL, {\n      transports: ['websocket', 'polling']\n    });\n    \n    newSocket.on('connect', () => {\n      console.log('Admin Panel connected');\n      setConnected(true);\n      newSocket.emit('join-admin');\n    });\n\n    newSocket.on('disconnect', () => {\n      setConnected(false);\n    });\n\n    newSocket.on('game-state', (state) => {\n      console.log('Game state updated:', state);\n      setGameState(state);\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.close();\n    };\n  }, []);\n\n  const setTargetPrompt = () => {\n    if (socket && target.trim()) {\n      socket.emit('set-target', target.trim());\n    }\n  };\n\n  const startBattle = () => {\n    if (socket) {\n      socket.emit('start-battle', duration);\n    }\n  };\n\n  const resetGame = () => {\n    if (socket) {\n      socket.emit('reset-game');\n      setTarget('');\n    }\n  };\n\n  const getConnectionStatus = () => {\n    if (!connected) return { color: 'text-red-500', text: 'Disconnected' };\n    return { color: 'text-green-500', text: 'Connected' };\n  };\n\n  const getPlayerCount = () => {\n    if (!gameState?.players) return 0;\n    return Object.keys(gameState.players).filter(id => gameState.players[id].connected).length;\n  };\n\n  const canStartBattle = () => {\n    return connected && \n           gameState?.phase === 'ready' && \n           gameState?.target && \n           getPlayerCount() >= 2;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white\">\n      {/* Header */}\n      <div className=\"p-6 border-b border-gray-600\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold flex items-center space-x-3\">\n            <Settings className=\"h-8 w-8\" />\n            <span>Prompt Battle Admin</span>\n          </h1>\n          \n          <div className=\"flex items-center space-x-4\">\n            <div className={`flex items-center space-x-2 ${getConnectionStatus().color}`}>\n              <div className=\"w-3 h-3 rounded-full bg-current animate-pulse\"></div>\n              <span>{getConnectionStatus().text}</span>\n            </div>\n            <div className=\"text-gray-300\">\n              <Users className=\"inline h-5 w-5 mr-2\" />\n              {getPlayerCount()}/2 Players\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6 max-w-6xl mx-auto\">\n        {/* Quick Access URLs */}\n        <div className=\"bg-gray-800 rounded-lg p-6 mb-8\">\n          <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n            <Monitor className=\"h-6 w-6 mr-2\" />\n            Quick Access URLs\n          </h2>\n          \n          <div className=\"grid md:grid-cols-3 gap-4\">\n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <h3 className=\"font-semibold text-blue-400 mb-2\">Central Display</h3>\n              <a \n                href=\"/display\" \n                target=\"_blank\"\n                className=\"text-sm text-blue-300 hover:underline font-mono break-all\"\n              >\n                {window.location.origin}/display\n              </a>\n            </div>\n            \n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <h3 className=\"font-semibold text-green-400 mb-2\">Player 1</h3>\n              <a \n                href=\"/player/1\" \n                target=\"_blank\"\n                className=\"text-sm text-green-300 hover:underline font-mono break-all\"\n              >\n                {window.location.origin}/player/1\n              </a>\n            </div>\n            \n            <div className=\"bg-gray-700 p-4 rounded-lg\">\n              <h3 className=\"font-semibold text-purple-400 mb-2\">Player 2</h3>\n              <a \n                href=\"/player/2\" \n                target=\"_blank\"\n                className=\"text-sm text-purple-300 hover:underline font-mono break-all\"\n              >\n                {window.location.origin}/player/2\n              </a>\n            </div>\n          </div>\n        </div>\n\n        {/* Game Status */}\n        <div className=\"bg-gray-800 rounded-lg p-6 mb-8\">\n          <h2 className=\"text-xl font-bold mb-4\">Game Status</h2>\n          \n          <div className=\"grid md:grid-cols-2 gap-6\">\n            <div>\n              <h3 className=\"font-semibold mb-2\">Current Phase:</h3>\n              <div className=\"text-2xl font-bold text-blue-400 capitalize\">\n                {gameState?.phase || 'Disconnected'}\n              </div>\n            </div>\n            \n            <div>\n              <h3 className=\"font-semibold mb-2\">Connected Players:</h3>\n              <div className=\"space-y-2\">\n                {['1', '2'].map(playerId => (\n                  <div key={playerId} className=\"flex items-center space-x-2\">\n                    <div className={`w-3 h-3 rounded-full ${\n                      gameState?.players?.[playerId]?.connected ? 'bg-green-500' : 'bg-gray-500'\n                    }`}></div>\n                    <span>Player {playerId}</span>\n                    {gameState?.players?.[playerId]?.ready && (\n                      <span className=\"text-green-400 text-sm\">✓ Ready</span>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n          \n          {gameState?.target && (\n            <div className=\"mt-4 p-4 bg-gray-700 rounded-lg\">\n              <h3 className=\"font-semibold mb-2\">Current Target:</h3>\n              <p className=\"text-lg\">{gameState.target}</p>\n            </div>\n          )}\n        </div>\n\n        {/* Target Setting */}\n        <div className=\"bg-gray-800 rounded-lg p-6 mb-8\">\n          <h2 className=\"text-xl font-bold mb-4\">Set Battle Target</h2>\n          \n          <div className=\"mb-4\">\n            <label className=\"block font-semibold mb-2\">Target Prompt:</label>\n            <textarea\n              value={target}\n              onChange={(e) => setTarget(e.target.value)}\n              placeholder=\"Enter the target for players to create images of...\"\n              className=\"w-full h-24 p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none\"\n              maxLength={200}\n            />\n            <div className=\"text-right text-sm text-gray-400 mt-1\">\n              {target.length}/200 characters\n            </div>\n          </div>\n          \n          <div className=\"mb-6\">\n            <h3 className=\"font-semibold mb-3\">Quick Presets:</h3>\n            <div className=\"grid md:grid-cols-2 gap-2\">\n              {presetTargets.map((preset, index) => (\n                <button\n                  key={index}\n                  onClick={() => setTarget(preset)}\n                  className=\"text-left p-3 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm transition-colors\"\n                >\n                  {preset}\n                </button>\n              ))}\n            </div>\n          </div>\n          \n          <button\n            onClick={setTargetPrompt}\n            disabled={!target.trim() || !connected}\n            className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition-colors\"\n          >\n            Set Target\n          </button>\n        </div>\n\n        {/* Battle Controls */}\n        <div className=\"bg-gray-800 rounded-lg p-6\">\n          <h2 className=\"text-xl font-bold mb-4\">Battle Controls</h2>\n          \n          <div className=\"mb-6\">\n            <label className=\"block font-semibold mb-2 flex items-center\">\n              <Timer className=\"h-5 w-5 mr-2\" />\n              Battle Duration (seconds):\n            </label>\n            <select\n              value={duration}\n              onChange={(e) => setDuration(parseInt(e.target.value))}\n              className=\"p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:border-blue-500 focus:outline-none\"\n            >\n              <option value={30}>30 seconds</option>\n              <option value={60}>1 minute</option>\n              <option value={90}>1.5 minutes</option>\n              <option value={120}>2 minutes</option>\n              <option value={180}>3 minutes</option>\n            </select>\n          </div>\n          \n          <div className=\"flex space-x-4\">\n            <button\n              onClick={startBattle}\n              disabled={!canStartBattle()}\n              className=\"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center space-x-2\"\n            >\n              <Play className=\"h-5 w-5\" />\n              <span>Start Battle</span>\n            </button>\n            \n            <button\n              onClick={resetGame}\n              disabled={!connected}\n              className=\"bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors flex items-center space-x-2\"\n            >\n              <RotateCcw className=\"h-5 w-5\" />\n              <span>Reset Game</span>\n            </button>\n          </div>\n          \n          {!canStartBattle() && connected && (\n            <div className=\"mt-4 text-yellow-400\">\n              ⚠️ {!gameState?.target ? 'Set a target first' : \n                   getPlayerCount() < 2 ? 'Need 2 players connected' :\n                   'Game not ready'}\n            </div>\n          )}\n        </div>\n\n        {/* Stable Diffusion Status */}\n        <div className=\"bg-gray-800 rounded-lg p-6 mt-8\">\n          <h2 className=\"text-xl font-bold mb-4\">Stable Diffusion Status</h2>\n          <div className=\"text-gray-300\">\n            <p className=\"mb-2\">🔗 Expected endpoint: http://localhost:7860</p>\n            <p className=\"text-sm\">\n              Make sure Automatic1111 WebUI is running with <code className=\"bg-gray-700 px-2 py-1 rounded\">--api --listen</code> flags\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}